<!--
  Generated template for the ForgotpasswordPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
  <ion-header transparent>
    <ion-navbar transparent>
        <ion-title>
            Forgot Password
        </ion-title>
    </ion-navbar>
</ion-header>


<ion-content padding class="background">
  <ion-card style="border-radius: 15px">
    <form [formGroup]="forgotPasswordForm">
      <ion-list padding>
        <ion-item>
          <ion-label floating>Email</ion-label>
          <ion-input [(ngModel)]="user.email" formControlName="email" [class.invalid]="!forgotPasswordForm.controls.email.valid && (forgotPasswordForm.controls.email.dirty || submitAttempt)"
            type="email"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label floating>Password</ion-label>
          <ion-input [(ngModel)]="user.password" formControlName="password" [class.invalid]="!forgotPasswordForm.controls.password.valid && (forgotPasswordForm.controls.password.dirty || submitAttempt)"
            type="password"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label floating>Confirm Password</ion-label>
          <ion-input [(ngModel)]="user.confirmPassword" formControlName="confirmPassword" [class.invalid]="!forgotPasswordForm.controls.confirmPassword.valid && (forgotPasswordForm.controls.confirmPassword.dirty || submitAttempt)"
            type="password"></ion-input>
        </ion-item>
      </ion-list>
      <div padding>
        <button ion-button block class="submitbtn" (click)="signIn()">Change Password</button>
        <p *ngIf="showServerError" style="color: red;font-size: xx-small">{{serverError}}</p>
        <p *ngIf="user.password != user.confirmPassword" style="color: red;font-size: xx-small"> Passwords doesn't match. </p>
      </div>
    </form>
  </ion-card>
</ion-content>
